# ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

æœ¬æ–‡æ¡£æä¾›äº† iDO ç³»ç»Ÿæ•´ä½“æ¶æ„çš„é«˜å±‚è§†å›¾ï¼ŒåŒ…æ‹¬ç»„ä»¶å…³ç³»ã€æ•°æ®æµå’Œè®¾è®¡å“²å­¦ã€‚

## ç›®å½•

- [æ¶æ„æ€»è§ˆ](#æ¶æ„æ€»è§ˆ)
- [ä¸‰å±‚æ¶æ„](#ä¸‰å±‚æ¶æ„)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [ç»„ä»¶å…³ç³»](#ç»„ä»¶å…³ç³»)
- [æ•°æ®æµ](#æ•°æ®æµ)
- [è®¾è®¡åŸåˆ™](#è®¾è®¡åŸåˆ™)
- [æ‰©å±•ç‚¹](#æ‰©å±•ç‚¹)

## æ¶æ„æ€»è§ˆ

iDO æ˜¯ä¸€ä¸ª**æ™ºèƒ½æ´»åŠ¨ç›‘æ§å’Œä»»åŠ¡æ¨èç³»ç»Ÿ**ï¼Œé‡‡ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ï¼Œè¿è¡Œåœ¨ç”¨æˆ·çš„æœ¬åœ°æ¡Œé¢ä¸Šã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  iDO Desktop App                     â”‚
â”‚                    (Tauri 2.x)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           Frontend (React 19 + TS)             â”‚    â”‚
â”‚  â”‚  â€¢ æ´»åŠ¨æ—¶é—´çº¿å±•ç¤º                              â”‚    â”‚
â”‚  â”‚  â€¢ ä»»åŠ¡ç®¡ç†ç•Œé¢                                â”‚    â”‚
â”‚  â”‚  â€¢ è®¾ç½®å’Œé…ç½®                                  â”‚    â”‚
â”‚  â”‚  â€¢ Zustand çŠ¶æ€ç®¡ç†                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â”‚ PyTauri IPC                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           Backend (Python 3.14+)             â”‚    â”‚
â”‚  â”‚  â€¢ äº‹ä»¶é‡‡é›†å’Œå¤„ç†                            â”‚    â”‚
â”‚  â”‚  â€¢ LLM é›†æˆå’Œåˆ†æ                           â”‚    â”‚
â”‚  â”‚  â€¢ Agent ä»»åŠ¡ç³»ç»Ÿ                           â”‚    â”‚
â”‚  â”‚  â€¢ SQLite æ•°æ®åº“                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

          â†“ å¯é€‰ï¼ˆä»…å¼€å‘ï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FastAPI ç‹¬ç«‹æœåŠ¡å™¨ (8000)                 â”‚
â”‚  â€¢ API å¼€å‘å’Œæµ‹è¯•                                      â”‚
â”‚  â€¢ Swagger UI æ–‡æ¡£                                     â”‚
â”‚  â€¢ ä¸æ¡Œé¢åº”ç”¨å®Œå…¨å…¼å®¹çš„ API                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¸‰å±‚æ¶æ„

iDO çš„æ ¸å¿ƒè®¾è®¡æ˜¯**ä¸‰å±‚åˆ†å±‚æ¶æ„**ï¼Œæ¯å±‚è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œå½¢æˆæ¸…æ™°çš„æ•°æ®å¤„ç†æµã€‚

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Consumption Layer (æ¶ˆè´¹å±‚)                  â”‚
â”‚              AI åˆ†æ â†’ æ™ºèƒ½æ¨è â†’ Agent æ‰§è¡Œ            â”‚
â”‚                                                          â”‚
â”‚  è¾“å‡ºï¼š                                                  â”‚
â”‚  â€¢ æ´»åŠ¨åˆ†æå’Œå¯è§†åŒ–                                     â”‚
â”‚  â€¢ æ™ºèƒ½ä»»åŠ¡æ¨è                                         â”‚
â”‚  â€¢ Agent è‡ªåŠ¨æ‰§è¡Œç»“æœ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–²
              â”‚ éœ€è¦ï¼šActivity æ•°æ® + åˆ†æç»“æœ
              â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Processing Layer (å¤„ç†å±‚)                   â”‚
â”‚           äº‹ä»¶ç­›é€‰ â†’ LLMæ€»ç»“ â†’ æ´»åŠ¨åˆå¹¶ â†’ æ•°æ®åº“å­˜å‚¨    â”‚
â”‚                                                          â”‚
â”‚  è¾“å…¥ï¼š                                                  â”‚
â”‚  â€¢ RawRecordsï¼ˆåŸå§‹äº‹ä»¶ï¼‰                               â”‚
â”‚  â€¢ Eventsï¼ˆç­›é€‰åçš„äº‹ä»¶ï¼‰                               â”‚
â”‚                                                          â”‚
â”‚  è¾“å‡ºï¼š                                                  â”‚
â”‚  â€¢ Activitiesï¼ˆæ´»åŠ¨ï¼‰                                   â”‚
â”‚  â€¢ ç‰ˆæœ¬æ§åˆ¶ï¼ˆå¢é‡æ›´æ–°ï¼‰                                 â”‚
â”‚                                                          â”‚
â”‚  è¿‡ç¨‹ï¼š                                                  â”‚
â”‚  1. æ¯ 10 ç§’å¤„ç†ä¸€æ‰¹äº‹ä»¶                                â”‚
â”‚  2. è°ƒç”¨ LLM è¿›è¡Œæ€»ç»“                                   â”‚
â”‚  3. åˆå¹¶ç›¸å…³æ´»åŠ¨                                        â”‚
â”‚  4. å­˜å‚¨åˆ° SQLite                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–²
              â”‚ æä¾›ï¼šRawRecords
              â”‚

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Perception Layer (æ„ŸçŸ¥å±‚)                   â”‚
â”‚              é”®ç›˜ç›‘æ§ â†’ é¼ æ ‡ç›‘æ§ â†’ å±å¹•æˆªå›¾é‡‡é›†         â”‚
â”‚                                                          â”‚
â”‚  è¾“å‡ºï¼š                                                  â”‚
â”‚  â€¢ RawRecordsï¼ˆåŸå§‹äº‹ä»¶ï¼‰                               â”‚
â”‚  â€¢ 20 ç§’æ»‘åŠ¨çª—å£ç¼“å†²                                    â”‚
â”‚  â€¢ Screenshotsï¼ˆå±å¹•æˆªå›¾ï¼‰                              â”‚
â”‚                                                          â”‚
â”‚  ç‰¹ç‚¹ï¼š                                                  â”‚
â”‚  â€¢ æœ¬åœ°ä¼˜å…ˆï¼ˆæ— äº‘ä¸Šä¼ ï¼‰                                 â”‚
â”‚  â€¢ å®æ—¶é‡‡é›†ï¼ˆ200ms å‘¨æœŸï¼‰                               â”‚
â”‚  â€¢ è‡ªåŠ¨è¿‡æœŸï¼ˆ20s çª—å£ï¼‰                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å±‚çº§èŒè´£

| å±‚çº§ | èŒè´£ | æŠ€æœ¯ | ç‰¹ç‚¹ |
|------|------|------|------|
| **æ„ŸçŸ¥å±‚** | é‡‡é›†åŸå§‹äº‹ä»¶ | pynput, mss | å®æ—¶ã€æœ¬åœ° |
| **å¤„ç†å±‚** | æ™ºèƒ½æ•°æ®å¤„ç† | OpenAI, SQLite | å®šæœŸã€è‡ªåŠ¨ |
| **æ¶ˆè´¹å±‚** | æä¾›ç”¨æˆ·ä»·å€¼ | React, Zustand | äº¤äº’ã€å¯è§†åŒ– |

## æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         React 19 + TypeScript 5             â”‚
â”‚  â€¢ ç°ä»£åŒ–çš„ UI å¼€å‘æ¡†æ¶                     â”‚
â”‚  â€¢ å®Œå…¨çš„ç±»å‹å®‰å…¨                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vite   â”‚  â”‚ Zustand  â”‚  â”‚ React Routerâ”‚
â”‚ æ„å»ºå·¥å…·â”‚  â”‚ çŠ¶æ€ç®¡ç†  â”‚  â”‚ è·¯ç”±ç®¡ç†    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Tailwindâ”‚  â”‚shadcn/ui â”‚  â”‚ React Hook  â”‚
â”‚ CSS    â”‚  â”‚ ç»„ä»¶åº“    â”‚  â”‚ Form + Zod  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åç«¯æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Python 3.14+ (FastAPI + Starlette)     â”‚
â”‚  â€¢ ç°ä»£åŒ–çš„ Python Web æ¡†æ¶                 â”‚
â”‚  â€¢ å¼‚æ­¥æ”¯æŒ                                 â”‚
â”‚  â€¢ è‡ªåŠ¨ API æ–‡æ¡£                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚              â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚ pynput   â”‚  â”‚ mss      â”‚  â”‚ OpenAI   â”‚
â”‚ äº‹ä»¶é‡‡é›†  â”‚  â”‚ æˆªå›¾é‡‡é›†  â”‚  â”‚ LLM API  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚              â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pydantic â”‚  â”‚ SQLite   â”‚  â”‚ PyTauri  â”‚
â”‚ æ•°æ®éªŒè¯  â”‚  â”‚ æ•°æ®åº“    â”‚  â”‚ Rustæ¡¥æ¥ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¡Œé¢æ¡†æ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Tauri 2.x                         â”‚
â”‚  â€¢ è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶                       â”‚
â”‚  â€¢ è½»é‡çº§ï¼ˆç›¸æ¯” Electronï¼‰                  â”‚
â”‚  â€¢ Rust è¿è¡Œæ—¶                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚              â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PyTauri  â”‚  â”‚ Tauri    â”‚  â”‚ ç³»ç»Ÿæƒé™  â”‚
â”‚ Py-Rust  â”‚  â”‚ äº‹ä»¶ç³»ç»Ÿ  â”‚  â”‚ ç®¡ç†      â”‚
â”‚ æ¡¥æ¥     â”‚  â”‚         â”‚  â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç»„ä»¶å…³ç³»

### å‰åç«¯é€šä¿¡

```
Frontend              PyTauri           Backend
(React)              (Bridge)          (Python)
   â”‚                   â”‚                  â”‚
   â”‚ useActivityStore  â”‚                  â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ IPC              â”‚
   â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚
   â”‚                   â”‚              activity.ts
   â”‚                   â”‚                  â”‚
   â”‚                   â”‚ RawRecords       â”‚
   â”‚                   â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
   â”‚ onActivityCreated â”‚                  â”‚
   â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Event            â”‚
   â”‚                   â”‚                  â”‚
   â”‚ fetchIncremental  â”‚                  â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                  â”‚
   â”‚ (new Activities)  â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ database.py
   â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
```

### çŠ¶æ€ç®¡ç†

```
Frontend State Management
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Zustand Stores                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  activity.ts       â† Timeline Data     â”‚
â”‚  agents.ts         â† Task Data         â”‚
â”‚  dashboard.ts      â† Statistics        â”‚
â”‚  settings.ts       â† Configuration     â”‚
â”‚  ui.ts             â† UI State          â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
    Backend Events
    (Tauri Events)
          â†“
    Store Updates
          â†“
    Component Re-render
```

## æ•°æ®æµ

### å®æ—¶æ•°æ®æµå¤„ç†

```
[T=0s]  User Action (typing, clicking, etc.)
         â†“
        pynput/mss detects
         â†“
        Create RawRecord
         â†“
        Store in 20s window buffer

[T=10s] Processing triggered
         â†“
        1. Read RawRecords from buffer
        2. Filter events
        3. Aggregate events
        4. Call LLM to summarize (optional)
        5. Merge related activities
        6. Store Activity to database
        7. Update version number

[Async] Tauri Event Broadcast
         â†“
        Frontend listens to 'activity-created'
         â†“
        Fetch incremental updates
         â†“
        Update Zustand store
         â†“
        Components re-render

[Continuous] Frontend displays
         â†“
        User sees updated timeline
         â†“
        Click activity for details
         â†“
        Agent analysis on demand
         â†“
        Task recommendations shown
```

### æ•°æ®æ¨¡å‹ç»§æ‰¿

```
RawRecord (åº•å±‚)
â””â”€ åŸå§‹äº‹ä»¶æ•°æ®
   â””â”€ {type, timestamp, data}

Event (ä¸­å±‚)
â””â”€ ç­›é€‰å’Œèšåˆçš„äº‹ä»¶
   â””â”€ {type, timestamp, events_summary}

Activity (é«˜å±‚)
â””â”€ ç”¨æˆ·å¯è§çš„æ´»åŠ¨
   â””â”€ {name, description, startTime, endTime}

Task (ä¸šåŠ¡å±‚)
â””â”€ Agent æ¨èçš„ä»»åŠ¡
   â””â”€ {title, description, status, priority}
```

## è®¾è®¡åŸåˆ™

### 1. éšç§ä¼˜å…ˆï¼ˆPrivacy Firstï¼‰

- âœ… æ‰€æœ‰æ•°æ®å¤„ç†åœ¨æœ¬åœ°
- âœ… æ— å¼ºåˆ¶è”ç½‘
- âœ… å¼€æºå’Œå¯å®¡è®¡
- âœ… å¯ç¦»çº¿ä½¿ç”¨

### 2. åˆ†å±‚æ¶æ„ï¼ˆLayered Architectureï¼‰

- âœ… æ˜ç¡®çš„èŒè´£åˆ’åˆ†
- âœ… ä½è€¦åˆï¼Œé«˜å†…èš
- âœ… æ˜“äºæµ‹è¯•å’Œç»´æŠ¤
- âœ… æ˜“äºæ‰©å±•

### 3. å¼‚æ­¥å¤„ç†ï¼ˆAsync Processingï¼‰

- âœ… ä¸é˜»å¡ UI
- âœ… åå°å¤„ç†æ•°æ®
- âœ… å®šæœŸæ‰¹å¤„ç†
- âœ… å®æ—¶äº‹ä»¶é©±åŠ¨

### 4. ç±»å‹å®‰å…¨ï¼ˆType Safetyï¼‰

- âœ… TypeScript å…¨è¦†ç›–
- âœ… Pydantic æ•°æ®éªŒè¯
- âœ… ç¼–è¯‘æ—¶æ£€æŸ¥
- âœ… å›½é™…åŒ–ç±»å‹å®‰å…¨

### 5. å¯æ‰©å±•æ€§ï¼ˆExtensibilityï¼‰

- âœ… Agent å·¥å‚æ¨¡å¼
- âœ… API Handler è£…é¥°å™¨
- âœ… æ˜“äºæ·»åŠ æ–°åŠŸèƒ½
- âœ… æ’ä»¶åŒ–è®¾è®¡

## æ‰©å±•ç‚¹

### 1. æ·»åŠ æ–°çš„ Agent

```python
# backend/agents/my_agent.py
class MyAgent(BaseAgent):
    async def can_handle(self, activity: Activity) -> bool:
        # å®ç°é€»è¾‘
        pass

    async def execute(self, activity: Activity) -> Task:
        # ç”Ÿæˆä»»åŠ¡
        pass

# æ³¨å†Œ
AgentFactory.register(MyAgent())
```

### 2. æ·»åŠ æ–°çš„æ•°æ®æº

```python
# åœ¨æ„ŸçŸ¥å±‚æ·»åŠ æ–°çš„ç›‘æ§å™¨
class MyEventListener:
    def start(self):
        # å¼€å§‹ç›‘æ§
        pass

    def get_events(self):
        # è¿”å›äº‹ä»¶åˆ—è¡¨
        pass
```

### 3. æ·»åŠ æ–°çš„ API å¤„ç†å™¨

```python
# backend/handlers/my_feature.py
@api_handler(body=MyRequest, path="/my-feature")
async def my_feature(body: MyRequest) -> dict:
    # å®ç°å¤„ç†é€»è¾‘
    pass
```

### 4. æ·»åŠ æ–°çš„é¡µé¢

```typescript
// src/views/MyFeature/index.tsx
export default function MyFeatureView() {
  // åˆ›å»ºé¡µé¢ç»„ä»¶
}

// åœ¨ src/lib/config/menu.ts ä¸­æ·»åŠ èœå•é¡¹
// åœ¨ src/routes/Index.tsx ä¸­æ·»åŠ è·¯ç”±
```

### 5. æ·»åŠ æ–°è¯­è¨€

```typescript
// src/locales/ja-JP.ts
export const jaJP = {
  // ç¿»è¯‘å†…å®¹
}

// src/locales/index.ts
export const locales = {
  en,
  'zh-CN': zhCN,
  'ja-JP': jaJP,
}
```

## ç³»ç»Ÿé›†æˆ

### ä¸å¤–éƒ¨æœåŠ¡çš„é›†æˆ

```
iDO
  â”œâ”€ OpenAI API
  â”‚  â””â”€ LLM åˆ†æå’Œæ€»ç»“
  â”‚
  â”œâ”€ æœ¬åœ°æ•°æ®åº“ (SQLite)
  â”‚  â””â”€ æŒä¹…åŒ–å­˜å‚¨
  â”‚
  â””â”€ ç³»ç»Ÿçº§äº‹ä»¶
     â”œâ”€ é”®ç›˜äº‹ä»¶
     â”œâ”€ é¼ æ ‡äº‹ä»¶
     â””â”€ å±å¹•å†…å®¹
```

### éƒ¨ç½²é€‰é¡¹

```
å¼€å‘ç¯å¢ƒï¼š
  pnpm tauri dev
  # åŒ…å«çƒ­é‡è½½å’Œå®Œæ•´åŠŸèƒ½

FastAPI æœåŠ¡å™¨ï¼š
  uvicorn app:app --reload
  # å¿«é€Ÿ API å¼€å‘å’Œæµ‹è¯•

ç”Ÿäº§ç‰ˆæœ¬ï¼š
  pnpm tauri build
  # ç”Ÿæˆå¯å‘å¸ƒçš„åº”ç”¨åŒ…
  # macOS: .app å’Œ .dmg
  # Windows: .exe å’Œ .msi
  # Linux: .AppImage ç­‰
```

## æ€§èƒ½ç‰¹æ€§

### ä¼˜åŒ–ç­–ç•¥

| æ–¹é¢ | ä¼˜åŒ– | æ•ˆæœ |
|------|------|------|
| **å‰ç«¯** | è™šæ‹Ÿæ»šåŠ¨ã€Code Splitting | å¿«é€ŸåŠ è½½ |
| **åç«¯** | æ‰¹å¤„ç†ã€ç¼“å­˜ LLM ç»“æœ | ä½å»¶è¿Ÿ |
| **æ•°æ®åº“** | ç´¢å¼•ä¼˜åŒ–ã€æŸ¥è¯¢ä¼˜åŒ– | å¿«é€ŸæŸ¥è¯¢ |
| **ç½‘ç»œ** | å¢é‡æ›´æ–°ã€äº‹ä»¶é˜²æŠ– | ä½å¸¦å®½ |
| **å†…å­˜** | Zustand é€‰æ‹©å™¨ã€React.memo | ä½å ç”¨ |

## è·å–å¸®åŠ©

- ğŸ“– æŸ¥çœ‹ [å‰ç«¯æ¶æ„](./frontend.md)
- ğŸ“– æŸ¥çœ‹ [åç«¯æ¶æ„](./backend.md)
- ğŸ“– æŸ¥çœ‹ [å¼€å‘æŒ‡å—](./development.md)
- ğŸ› æŠ¥å‘Š Bugï¼š[GitHub Issues](https://github.com/TexasOct/iDO/issues)
